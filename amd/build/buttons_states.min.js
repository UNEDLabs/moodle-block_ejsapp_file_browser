define(["jquery"],function(a){var b={HIDEINTERACTION:"#hide_interaction",SHOWINTERACTION:"#show_interaction",CAPTUREINTERACTION:"#captureInteraction",STOPCAPTURE:"#stopCaptureButton",RESETCAPTURE:"#resetCaptureButton",STEPCAPTURE:"#stepCaptureButton",STARTCAPTURE:"#startCaptureButton",PLAYCAPTURE:"#playCaptureButton",SHARECHECKBOXES:"input.usercheckbox",CHECKALLBUTTON:"#checkall",CHECKNONEBUTTON:"#checknone"},c={init:function(c){a(b.HIDEINTERACTION).click(function(){a(b.CAPTUREINTERACTION).hide()}),a(b.SHOWINTERACTION).click(function(){a(b.CAPTUREINTERACTION).show()}),a(b.STOPCAPTURE).prop("disabled",!0),c?(a(b.STARTCAPTURE).prop("disabled",!0),a(b.PLAYCAPTURE).prop("disabled",!0)):(a(b.RESETCAPTURE).prop("disabled",!0),a(b.STEPCAPTURE).prop("disabled",!0)),a(b.STARTCAPTURE).click(function(){_model.startCapture(),a(b.STARTCAPTURE).prop("disabled",!0),a(b.STOPCAPTURE).prop("disabled",!1),a(b.RESETCAPTURE).prop("disabled",!1),a(b.PLAYCAPTURE).prop("disabled",!0),a(b.STEPCAPTURE).prop("disabled",!0)}),a(b.STOPCAPTURE).click(function(){_model.saveText("recording","rec",JSON.stringify(_model.stopCapture())),a(b.STARTCAPTURE).prop("disabled",!1),a(b.STOPCAPTURE).prop("disabled",!0),a(b.RESETCAPTURE).prop("disabled",!1)}),a(b.RESETCAPTURE).click(function(){_model.resetCapture(),a(b.STARTCAPTURE).prop("disabled",!1),a(b.STOPCAPTURE).prop("disabled",!0),a(b.RESETCAPTURE).prop("disabled",!0),a(b.PLAYCAPTURE).prop("disabled",!1)}),a(b.PLAYCAPTURE).click(function(){_model.readText(null,".rec",function(c){_model.playCapture(JSON.parse(c),function(){a(b.STARTCAPTURE).disabled=!1,a(b.PLAYCAPTURE).disabled=!1,a(b.STEPCAPTURE).disabled=!1,window.alert("End of reproduction")})}),a(b.STARTCAPTURE).prop("disabled",!0),a(b.STOPCAPTURE).prop("disabled",!0),a(b.RESETCAPTURE).prop("disabled",!1),a(b.PLAYCAPTURE).prop("disabled",!0),a(b.STEPCAPTURE).prop("disabled",!1)}),a(b.STEPCAPTURE).change(function(){var a;a=stepCaptureButton.value>=0?stepCaptureButton.value+1:1+1.8*stepCaptureButton.value/8,_model.changeCaptureStep(a)})},shareFilesWithUsers:function(){a(b.CHECKALLBUTTON).on("click",function(){a(b.SHARECHECKBOXES).prop("checked",!0)}),a(b.CHECKNONEBUTTON).on("click",function(){a(b.SHARECHECKBOXES).prop("checked",!1)})}};return c});